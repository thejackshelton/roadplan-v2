import{j as ae,r as le,s as ve,a as me,m as N,t as pe,o as M,p as R,v as fe,d as he,q as Q,S as Re,_hW as Z,x as Se,n as Ee,y as ye,z as we}from"./q-Cu9Su6G1.js";import{_,t as be,j as l,k as D,m as W,n as T,Q as F,o as ne,r as ie,q as ce,l as ue,v as G,w as ge,c as qe,C as Le,d as Pe,D as Ie,R as De,e as ke,f as Ce,h as Ae,i as Oe,x as Te,y as $e,z as xe,A as O,B as I,E as je,F as Ve,G as Ue}from"./q-Cl1qwDo9.js";const J=()=>_(()=>import("./q-t6QSOFBQ.js").then(n=>n.l),[]),se=()=>_(()=>import("./q-B-N7rbUr.js").then(n=>n.l),[]),X=[["/",[se,()=>_(()=>import("./q-BR_iO86E.js"),[])]],["404.html",[J,()=>_(()=>import("./q-F66fGstR.js"),[])]],["docs/getting-started/",[J,()=>_(()=>import("./q-Cg1AdFQC.js"),[])]],["demo/",[se,()=>_(()=>import("./q-DYve9VsR.js"),[])]],["docs/",[J,()=>_(()=>import("./q-D4kzdbiX.js"),[])]]],K=[["/docs/",()=>_(()=>import("./q-SSRcVJ2B.js"),[])]];const Y=!0;const He=async(n,r)=>{const[S,m,i,g]=ae(),{type:v="link",forceReload:f=n===void 0,replaceState:E=!1,scroll:q=!0}=typeof r=="object"?r:{forceReload:r};T.navCount++;const c=i.value.dest,t=n===void 0?c:typeof n=="number"?n:be(n,g.url);if(l.$cbs$&&(f||typeof t=="number"||!D(t,c)||!W(t,c))){const a=T.navCount,u=await Promise.all([...l.$cbs$.values()].map(L=>L(t)));if(a!==T.navCount||u.some(Boolean)){a===T.navCount&&v==="popstate"&&history.pushState(null,"",c);return}}if(typeof t=="number"){history.go(t);return}if(!W(t,c)){location.href=t.href;return}if(!f&&D(t,c)){{v==="link"&&t.href!==location.href&&history.pushState(null,"",t);let a=document.getElementById(F);a||(a=document.getElementById(ne),a&&console.warn(`Please update your scroller ID to "${F}" as "${ne}" is deprecated and will be removed in V3`)),a||(a=document.documentElement),ie(v,t,new URL(location.href),a,ce()),v==="popstate"&&(window._qRouterScrollEnabled=!0)}return}return i.value={type:v,dest:t,forceReload:f,replaceState:E,scroll:q},ue(t,le()),G(X,K,Y,t.pathname),S.value=void 0,g.isNavigating=!0,new Promise(a=>{m.r=a})},Ne=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_fCkJOkBysDA:He},Symbol.toStringTag,{value:"Module"})),Xe=n=>{ve(Q(()=>_(()=>Promise.resolve().then(()=>Me),void 0),"s_cD1J81Hwhnk"));const r=ge();if(!(r!=null&&r.params))throw new Error("Missing Qwik Router Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const S=me("url");if(!S)throw new Error("Missing Qwik URL Env Data");const m=new URL(S),i=N({url:m,params:r.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),g={},v=pe(N(r.response.loaders,{deep:!1})),f=M({type:"initial",dest:m,forceReload:!1,replaceState:!1,scroll:!0}),E=N(qe),q=N({headings:void 0,menu:void 0}),c=M(),t=r.response.action,a=t?r.response.loaders[t]:void 0,u=M(a?{id:t,data:r.response.formData,output:{result:a,status:r.response.status}}:void 0),L=Q(()=>_(()=>Promise.resolve().then(()=>Be),void 0),"s_8Ntih0F11GA"),$=Q(()=>_(()=>Promise.resolve().then(()=>Ne),void 0),"s_fCkJOkBysDA",[u,g,f,i]);return R(Le,q),R(Pe,c),R(Ie,E),R(De,i),R(ke,$),R(Ce,v),R(Ae,u),R(Oe,f),R(Te,L),fe(Q(()=>_(()=>Promise.resolve().then(()=>We),void 0),"s_amsIh0v2qXw",[u,q,c,E,r,$,v,g,n,f,i])),he(Re,null,null,null,3,"5O_2")},Qe=n=>(l.$handler$||(l.$handler$=r=>{if(T.navCount++,!l.$cbs$)return;[...l.$cbs$.values()].map(m=>m.resolved?m.resolved():m()).some(Boolean)&&(r.preventDefault(),r.returnValue=!0)}),(l.$cbs$||(l.$cbs$=new Set)).add(n),n.resolve(),window.addEventListener("beforeunload",l.$handler$),()=>{l.$cbs$&&(l.$cbs$.delete(n),l.$cbs$.size||(l.$cbs$=void 0,window.removeEventListener("beforeunload",l.$handler$)))}),Be=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_8Ntih0F11GA:Qe},Symbol.toStringTag,{value:"Module"})),ze=":root{view-transition-name:none}",Me=Object.freeze(Object.defineProperty({__proto__:null,s_cD1J81Hwhnk:ze},Symbol.toStringTag,{value:"Module"})),Je=({track:n})=>{const[r,S,m,i,g,v,f,E,q,c,t]=ae();async function a(){var ee;const[u,L]=n(()=>[c.value,r.value]),$=Se(""),k=t.url,h=L?"form":u.type,de=u.replaceState;let s,C,B=null,x;{s=new URL(u.dest,location),s.pathname.endsWith("/")||(s.pathname+="/");let j=G(X,K,Y,s.pathname);x=le();const V=C=await ue(s,x,{action:L,clearCache:!0});if(!V){c.untrackedValue={type:h,dest:s};return}const U=V.href,H=new URL(U,s);D(H,s)||(s=H,j=G(X,K,Y,s.pathname));try{B=await j}catch{window.location.href=U;return}}if(B){const[j,V,U,H]=B,A=U,_e=A[A.length-1],te=h==="form"&&!D(s,k);u.dest.search&&!te&&(s.search=u.dest.search),t.prevUrl=k,t.url=s,t.params={...V},c.untrackedValue={type:h,dest:s};const P=$e(C,t,A,$);S.headings=_e.headings,S.menu=H,m.value=Ee(A),i.links=P.links,i.meta=P.meta,i.styles=P.styles,i.scripts=P.scripts,i.title=P.title,i.frontmatter=P.frontmatter;{q.viewTransition!==!1&&(document.__q_view_transition__=!0);let oe;h==="popstate"&&(oe=ce());const w=document.getElementById(F)??document.documentElement;(u.scroll&&(!u.forceReload||!D(s,k))&&(h==="link"||h==="popstate")||te)&&(document.__q_scroll_restore__=()=>ie(h,s,k,w,oe));const re=C==null?void 0:C.loaders,e=window;if(re&&Object.assign(f,re),xe.clear(),!e._qRouterSPA){if(e._qRouterSPA=!0,history.scrollRestoration="manual",e.addEventListener("popstate",()=>{e._qRouterScrollEnabled=!1,clearTimeout(e._qRouterScrollDebounce),v(location.href,{type:"popstate"})}),e.removeEventListener("popstate",e._qRouterInitPopstate),e._qRouterInitPopstate=void 0,!e._qRouterHistoryPatch){e._qRouterHistoryPatch=!0;const d=history.pushState,y=history.replaceState,b=o=>(o===null||typeof o>"u"?o={}:(o==null?void 0:o.constructor)!==Object&&(o={_data:o}),o._qRouterScroll=o._qRouterScroll||I(w),o);history.pushState=(o,p,z)=>(o=b(o),d.call(history,o,p,z)),history.replaceState=(o,p,z)=>(o=b(o),y.call(history,o,p,z))}document.body.addEventListener("click",d=>{if(d.defaultPrevented)return;const y=d.target.closest("a[href]");if(y&&!y.hasAttribute("preventdefault:click")){const b=y.getAttribute("href"),o=new URL(location.href),p=new URL(b,o);if(W(p,o)&&D(p,o)){if(d.preventDefault(),!p.hash&&!p.href.endsWith("#")){p.href!==o.href&&history.pushState(null,"",p),e._qRouterScrollEnabled=!1,clearTimeout(e._qRouterScrollDebounce),O({...I(w),x:0,y:0}),location.reload();return}v(y.getAttribute("href"))}}}),document.body.removeEventListener("click",e._qRouterInitAnchors),e._qRouterInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if((e._qRouterScrollEnabled||e._qCityScrollEnabled)&&document.visibilityState==="hidden"){e._qCityScrollEnabled&&console.warn('"_qCityScrollEnabled" is deprecated. Use "_qRouterScrollEnabled" instead.');const d=I(w);O(d)}},{passive:!0}),document.removeEventListener("visibilitychange",e._qRouterInitVisibility),e._qRouterInitVisibility=void 0),e.addEventListener("scroll",()=>{!e._qRouterScrollEnabled&&!e._qCityScrollEnabled||(clearTimeout(e._qRouterScrollDebounce),e._qRouterScrollDebounce=setTimeout(()=>{const d=I(w);O(d),e._qRouterScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",e._qRouterInitScroll),e._qRouterInitScroll=void 0,(ee=e._qRouterBootstrap)==null||ee.remove(),e._qRouterBootstrap=void 0,je.resolve()}if(h!=="popstate"){e._qRouterScrollEnabled=!1,clearTimeout(e._qRouterScrollDebounce);const d=I(w);O(d)}Ve(window,h,k,s,de),ye(x).then(()=>{var b;we(x).setAttribute("q:route",j);const y=I(w);O(y),e._qRouterScrollEnabled=!0,Ue(),t.isNavigating=!1,(b=E.r)==null||b.call(E)})}}}a()},We=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_amsIh0v2qXw:Je},Symbol.toStringTag,{value:"Module"}));export{Z as _hW,Qe as a,ze as b,Je as c,Xe as s,He as s_fCkJOkBysDA};
